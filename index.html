
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Management API Reference</title>
    <link href="images/favicon-ac4c29ad.png" rel="icon" type="image/png" />
    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-5b8a2a79.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-b92d75a2.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch-ec00d1ce.js"></script>

  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <div class="logo-wrapper">
        <img src="images/logo-888e044d.png" class="logo" alt="" />
      </div>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#request-and-response-info" class="toc-h1 toc-link" data-title="Request And Response Info">Request And Response Info</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-endpoint" class="toc-h2 toc-link" data-title="API Endpoint">API Endpoint</a>
                  </li>
                  <li>
                    <a href="#required-headers" class="toc-h2 toc-link" data-title="Required Headers">Required Headers</a>
                  </li>
                  <li>
                    <a href="#signing-requests" class="toc-h2 toc-link" data-title="Signing Requests:">Signing Requests:</a>
                  </li>
                  <li>
                    <a href="#response-format" class="toc-h2 toc-link" data-title="Response Format">Response Format</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#jwt-access-tokens" class="toc-h1 toc-link" data-title="JWT Access Tokens">JWT Access Tokens</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#jwt-basics" class="toc-h2 toc-link" data-title="JWT Basics">JWT Basics</a>
                  </li>
                  <li>
                    <a href="#variables-you-provide-to-evocalize" class="toc-h2 toc-link" data-title="Variables you provide to Evocalize">Variables you provide to Evocalize</a>
                  </li>
                  <li>
                    <a href="#sso-endpoints-for-evocalize-web-app" class="toc-h2 toc-link" data-title="SSO Endpoints for Evocalize Web App">SSO Endpoints for Evocalize Web App</a>
                  </li>
                  <li>
                    <a href="#authentication-flow" class="toc-h2 toc-link" data-title="Authentication Flow">Authentication Flow</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-management-api" class="toc-h1 toc-link" data-title="User Management API">User Management API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-user" class="toc-h2 toc-link" data-title="Get User">Get User</a>
                  </li>
                  <li>
                    <a href="#get-users" class="toc-h2 toc-link" data-title="Get Users">Get Users</a>
                  </li>
                  <li>
                    <a href="#create-or-update-user" class="toc-h2 toc-link" data-title="Create Or Update User">Create Or Update User</a>
                  </li>
                  <li>
                    <a href="#get-user-associated-facebook-pages" class="toc-h2 toc-link" data-title="Get User Associated Facebook Pages">Get User Associated Facebook Pages</a>
                  </li>
                  <li>
                    <a href="#create-or-update-user-batch" class="toc-h2 toc-link" data-title="Create Or Update User Batch">Create Or Update User Batch</a>
                  </li>
                  <li>
                    <a href="#deactivate-user" class="toc-h2 toc-link" data-title="Deactivate User">Deactivate User</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#group-management-api" class="toc-h1 toc-link" data-title="Group Management API">Group Management API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-groups" class="toc-h2 toc-link" data-title="Get Groups">Get Groups</a>
                  </li>
                  <li>
                    <a href="#create-or-update-group" class="toc-h2 toc-link" data-title="Create Or Update Group">Create Or Update Group</a>
                  </li>
                  <li>
                    <a href="#create-or-update-group-batch" class="toc-h2 toc-link" data-title="Create Or Update Group Batch">Create Or Update Group Batch</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#content-management-api" class="toc-h1 toc-link" data-title="Content Management API">Content Management API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-repository" class="toc-h2 toc-link" data-title="Get Repository">Get Repository</a>
                  </li>
                  <li>
                    <a href="#get-repositories" class="toc-h2 toc-link" data-title="Get Repositories">Get Repositories</a>
                  </li>
                  <li>
                    <a href="#get-item" class="toc-h2 toc-link" data-title="Get Item">Get Item</a>
                  </li>
                  <li>
                    <a href="#create-or-update-item" class="toc-h2 toc-link" data-title="Create Or Update Item">Create Or Update Item</a>
                  </li>
                  <li>
                    <a href="#create-or-update-item-batch" class="toc-h2 toc-link" data-title="Create Or Update Item Batch">Create Or Update Item Batch</a>
                  </li>
                  <li>
                    <a href="#delete-item" class="toc-h2 toc-link" data-title="Delete Item">Delete Item</a>
                  </li>
                  <li>
                    <a href="#delete-item-batch" class="toc-h2 toc-link" data-title="Delete Item Batch">Delete Item Batch</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#content-access-api" class="toc-h1 toc-link" data-title="Content Access API">Content Access API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#access-basics" class="toc-h2 toc-link" data-title="Access Basics">Access Basics</a>
                  </li>
                  <li>
                    <a href="#get-access-records-associated-to-a-repository" class="toc-h2 toc-link" data-title="Get Access Records associated to a repository">Get Access Records associated to a repository</a>
                  </li>
                  <li>
                    <a href="#get-access-records-associated-to-a-repository-and-content-item" class="toc-h2 toc-link" data-title="Get Access Records associated to a repository and content item">Get Access Records associated to a repository and content item</a>
                  </li>
                  <li>
                    <a href="#create-update-a-single-access-record" class="toc-h2 toc-link" data-title="Create/Update a single access record">Create/Update a single access record</a>
                  </li>
                  <li>
                    <a href="#create-update-access-record-batch" class="toc-h2 toc-link" data-title="Create / Update Access Record Batch">Create / Update Access Record Batch</a>
                  </li>
                  <li>
                    <a href="#delete-access-record" class="toc-h2 toc-link" data-title="Delete Access Record">Delete Access Record</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#batch-report-api" class="toc-h1 toc-link" data-title="Batch Report API">Batch Report API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-report" class="toc-h2 toc-link" data-title="Get Report">Get Report</a>
                  </li>
                  <li>
                    <a href="#get-errors-batch-rquests" class="toc-h2 toc-link" data-title="Get Errors Batch Rquests">Get Errors Batch Rquests</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#client-leads-webhook" class="toc-h2 toc-link" data-title="Client Leads Webhook">Client Leads Webhook</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#facebook-audiences-api" class="toc-h1 toc-link" data-title="Facebook Audiences API">Facebook Audiences API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-facebook-audiences" class="toc-h2 toc-link" data-title="Get Facebook Audiences">Get Facebook Audiences</a>
                  </li>
                  <li>
                    <a href="#add-existing-facebook-audience" class="toc-h2 toc-link" data-title="Add Existing Facebook Audience">Add Existing Facebook Audience</a>
                  </li>
                  <li>
                    <a href="#bulk-add-existing-facebook-audiences" class="toc-h2 toc-link" data-title="Bulk Add Existing Facebook Audiences">Bulk Add Existing Facebook Audiences</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
          <li>
            <a href="#architecture-deep-linking" class="toc-h1 toc-link" data-title="Architecture Deep Linking">Architecture Deep Linking</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#content" class="toc-h2 toc-link" data-title="Content">Content</a>
                  </li>
                  <li>
                    <a href="#currently-running-programs" class="toc-h2 toc-link" data-title="Currently Running Programs">Currently Running Programs</a>
                  </li>
                  <li>
                    <a href="#program-creation-purchase-base" class="toc-h2 toc-link" data-title="Program Creation/Purchase Base">Program Creation/Purchase Base</a>
                  </li>
                  <li>
                    <a href="#automated-program-creation" class="toc-h2 toc-link" data-title="Automated Program Creation">Automated Program Creation</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Evocalize management API.</p>
<h1 id='request-and-response-info'>Request And Response Info</h1><h2 id='api-endpoint'>API Endpoint</h2>
<p><code>https://office-api.evocalize.com/</code></p>
<h2 id='required-headers'>Required Headers</h2>
<blockquote>
<p>Example Headers</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>X-Evocalize-Client-Key-Id: a5646c38-fc29-11e9-8f0b-362b9e155667
X-Evocalize-Timestamp: 1604094273
X-Evocalize-Signature: 690a0ac5a5a219bb4a773f5bc116a32553be4e8380845d854f07b5e8471bc954
Content-Type: application/json
</code></pre></div>
<table><thead>
<tr>
<th>Header</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>X-Evocalize-Client-Key-Id</td>
<td>true</td>
<td>ID of the Client Key provided by Evocalize.</td>
</tr>
<tr>
<td>X-Evocalize-Timestamp</td>
<td>true</td>
<td>Unix time since epoch in seconds, e.g. October 30, 2020 @ 9:44pm (UTC) =&gt; 1604094273. Requests with a timestamp over a minute old will not be accepted.</td>
</tr>
<tr>
<td>X-Evocalize-Signature</td>
<td>true</td>
<td>Signature of the payload. See Signing Requests below.</td>
</tr>
<tr>
<td>Content-Type</td>
<td>true</td>
<td><code>application/json</code></td>
</tr>
</tbody></table>
<h2 id='signing-requests'>Signing Requests:</h2>
<blockquote>
<p>Request signing example</p>
</blockquote>
<div class="highlight"><pre class="highlight kotlin tab-kotlin"><code><span class="c1">// Concatenate all the parts</span>
<span class="kd">val</span> <span class="py">signatureParts</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">()</span>
  <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">servletPath</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"\n"</span><span class="p">)</span>
  <span class="c1">// Omit this block if the request does not have a body</span>
  <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="nf">body</span><span class="p">())</span>
  <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"\n"</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">[</span><span class="s">"X-Evocalize-Timestamp"</span><span class="p">])</span>
  <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"\n"</span><span class="p">)</span>
  <span class="c1">// append the client key secret</span>
  <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">myClientKeySecret</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">toString</span><span class="p">()</span>

<span class="c1">// Take this value and pass it as the value for the header key "X-Evocalize-Signature"</span>
<span class="kd">val</span> <span class="py">signature</span> <span class="p">=</span> <span class="nc">Hashing</span><span class="p">.</span><span class="nf">sha256</span><span class="p">().</span><span class="nf">hashString</span><span class="p">(</span><span class="n">signatureParts</span><span class="p">,</span> <span class="nc">Charsets</span><span class="p">.</span><span class="nc">UTF_8</span><span class="p">)</span>
</code></pre></div>
<p>For security and identity purposes, we require partners to sign all API requests. The methodology is straight forward. Join the following values with a new line character between each item</p>

<ul>
<li>UrlPath (including path params if present)</li>
<li>The body of the request (omit if your request does not contain a body, e.g. a GET request)</li>
<li>Value of the timestamp used in the X-Evocalize-Timestamp Header</li>
<li>Client Key Secret (this is a secret that will be provided by Evocalize)</li>
</ul>

<aside class="notice">All code examples below assume that you are passing the required headers described in this section</aside>
<h2 id='response-format'>Response Format</h2>
<blockquote>
<p>JSON Response Schema</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">Request</span><span class="w"> </span><span class="err">Specifc</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">object</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"field"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Omitted</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="nl">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">        </span><span class="err">//</span><span class="w"> </span><span class="err">Omitted</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="err">//</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">object</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"nextPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"previousPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">object</span><span class="w">
  </span><span class="p">},</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Success Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">Request</span><span class="w"> </span><span class="err">Specifc</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">Response</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example Error Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unauthorized Request"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EV_UNAUTHORIZED_MISSING_HEADERS"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>All requests are returned as JSON wrapped in a standard response format. The Schema section shows all the potential fields that we could return. Do note that we do not include null values. The most common responses will look like the examples provided.</p>

<table><thead>
<tr>
<th>Schema Field</th>
<th>Always Present</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>false</td>
<td>Returned for requests that result with 2xx responses.</td>
</tr>
<tr>
<td>errors</td>
<td>false</td>
<td>Returned for requests that result in non 2xx responses.</td>
</tr>
<tr>
<td>nextPageToken</td>
<td>false</td>
<td>Page token appears for result sets larger than 100 items. Not present on last page of results.</td>
</tr>
<tr>
<td>previousPageToken</td>
<td>false</td>
<td>Same logic as nextPageToken. Not present on first page of results.</td>
</tr>
<tr>
<td>metadata</td>
<td>false</td>
<td>JSON object containing extra data around requests and responses. This data is subject to change and should not be relied on.</td>
</tr>
</tbody></table>
<h1 id='jwt-access-tokens'>JWT Access Tokens</h1><h2 id='jwt-basics'>JWT Basics</h2>
<p>The primary technology/concept used for authentication between our two systems is a JSON Web Token. The following link has documentation that you may find useful.</p>

<ul>
<li>https://jwt.io/ - Documentation on all things JWT. On this site, you can learn all there is to
know about the standard, libraries to use, test out the tokens you generate, etc.</li>
</ul>

<p>To create a valid JWT you will need to sign it with your evocalize <code>jwt_secret</code> using HS256 (HMAC with SHA-256).
We will provide the <code>jwt_secret</code> value to you.</p>
<h2 id='variables-you-provide-to-evocalize'>Variables you provide to Evocalize</h2><h3 id='login-urls'>Login URLs</h3>
<p>You will need to provide us with Login URLs to send a user to if they arrive at the site unauthenticated or
their login expires. Typically, we recommend having both a staging and a production endpoint when integrating.</p>
<h2 id='sso-endpoints-for-evocalize-web-app'>SSO Endpoints for Evocalize Web App</h2>
<p>This is where you will redirect your users after generating a JWT for them on your SSO page. See below for information you need to pass to this endpoint.</p>

<ul>
<li>Staging: https://your-staging-white-label-domain.evocalize.com/#/sso?token=&lt;...&gt;</li>
<li>Production: https://your-white-label-domain.com/#/sso?token=&lt;...&gt;</li>
</ul>
<h2 id='authentication-flow'>Authentication Flow</h2>
<blockquote>
<p>JWT Auth flow pseudo code example</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="c1">// 0. Authenticate the user in your system to verify they are who they say they are.</span>
<span class="nx">user</span><span class="p">.</span><span class="nx">authenticate</span><span class="p">();</span>

<span class="c1">// 1. Generate a JWT with the "sub" set to include the userId (same ID passed to Evocalize in API calls or feed files)</span>
<span class="c1">// note: `jwt_secret` will be provided by Evocalize</span>
<span class="c1">// here is an example JWT payload that we need you to generate:</span>
<span class="kd">const</span> <span class="nx">userJwtBlob</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">sub</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yourOrg|</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="c1">// where yourOrg is the value we provide you with and user.id with the ID you send in API calls or feed files.</span>
    <span class="na">iat</span><span class="p">:</span> <span class="mi">1563831852</span><span class="p">,</span> <span class="c1">// "Issued At" (seconds since Unix Epoch)</span>
    <span class="na">exp</span><span class="p">:</span> <span class="mi">1563835452</span> <span class="c1">// "Expires At" (seconds since Unix Epoch) set to 1 hour after iat</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">jwt</span> <span class="o">=</span> <span class="nx">generateJwt</span><span class="p">(</span><span class="nx">userJwtBlob</span><span class="p">,</span> <span class="nx">jwtSecret</span><span class="p">);</span>

<span class="c1">// 2. Redirect the user to a new Evocalize SSO endpoint with the JWT</span>
<span class="nx">redirectUser</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://your-white-label-domain.com/#/sso?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">jwt</span><span class="p">);</span>

</code></pre></div>
<p>You will need to create a new SSO endpoint (or update your current one) to generate a
token for your users using a secret key provided by Evocalize. You can then send your
users to a specific endpoint to get them seamlessly authenticated in our application.
The following workflow shows an example end-to-end process. Some of it is in pseudo
code to keep things succinct. If any portions require clarity, please reach out to us, and
we can assist you further.</p>
<h3 id='flow'>Flow</h3>
<ul>
<li>User navigates to your new (or existing) SSO endpoint.</li>
<li>User signs in (or is already authenticated).</li>
<li>Generate a JWT (JavaScript example on the right).</li>
<li>Redirect the user to the <code>/sso</code> endpoint, providing the JWT as the value for
the <code>token</code> query parameter.</li>
<li>If successful, the user is authenticated, and the Evocalize CMP UI loads.
If an error or some failure occurs, then an error screen is displayed with a &quot;try again&quot;
button that loads the <code>/sso</code> endpoint again when it is clicked.</li>
</ul>
<h1 id='user-management-api'>User Management API</h1><h2 id='get-user'>Get User</h2>
<blockquote>
<p>Get User Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_user_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@evocalize.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle Office"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
      </span><span class="p">}</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a single user and associated groups.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET management/v1/user/{userId}</code></p>
<h3 id='url-params'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>String</td>
<td>true</td>
<td>The ID of the user you are wanting to retrieve</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>200 OK</code> status code on sucess</li>
<li><code>404 NOT FOUND</code> when it can&#39;t locate the user.</li>
</ul>
<h2 id='get-users'>Get Users</h2>
<blockquote>
<p>Get Users Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test1@evocalize.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5678"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test2@evocalize.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91011"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test3@evocalize.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1213"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test3@evocalize.com"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"nextPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_next_page_token"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">another</span><span class="w"> </span><span class="err">page</span><span class="w">
  </span><span class="nl">"previousPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_previous_page_token"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">previous</span><span class="w"> </span><span class="err">page</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns all users. This is a paginated response - returning 100 results per page with optional page tokens to go to the next page and previous page if they exist.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET management/v1/users</code></p>
<h3 id='request-params'>Request Params</h3>
<table><thead>
<tr>
<th>Param</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pageToken</td>
<td>false</td>
<td>The page token (taken from either <code>nextPageToken</code>, or <code>previousPageToken</code> provided in the response) for the page you of results you want to view.</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>200 OK</code> - NOTE: will return an empty array and this status code if there are no users present.</li>
</ul>
<h2 id='create-or-update-user'>Create Or Update User</h2>
<blockquote>
<p>Create Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test1@evocalize.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Update Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test1@evocalize.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"replaceGroups"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Create and Update Repsonse</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test1@evocalize.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle Office"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to create or update a user and their group associations. You are able to call this endpoint and omit the groups property. In the Create case, the user would be created, but not be associated to any groups. In the case of update we would only update their name and/or email.</p>

<p>The group you want to associate with the user MUST exist prior to making this call.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST management/v1/user</code></p>
<h3 id='create-user-request-properties'>Create User Request Properties</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>String</td>
<td>ID of the user you are creating. This needs to be unique and immutable.</td>
</tr>
<tr>
<td>email</td>
<td>true</td>
<td>Email of the user you are creating.</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>true</td>
<td>Full name of the user you are creating.</td>
<td></td>
</tr>
<tr>
<td>groups</td>
<td>false</td>
<td>Array of UserGroupAssociation objects. If this is not present on create or update, no groups will be added.</td>
<td></td>
</tr>
</tbody></table>
<h3 id='update-user-request-properties'>Update User Request Properties</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>String</td>
<td>ID of the user you are updating.</td>
</tr>
<tr>
<td>email</td>
<td>false</td>
<td>String</td>
<td>Email of the user you are creating.</td>
</tr>
<tr>
<td>name</td>
<td>false</td>
<td>String</td>
<td>Full name of the user you are creating.</td>
</tr>
<tr>
<td>replaceGroups</td>
<td>false</td>
<td>boolean</td>
<td>When <code>replaceGroups</code> is true, we will REMOVE all groups currently associated to the user, replacing them with the groups provided in the list. By default this is false.</td>
</tr>
<tr>
<td>groups</td>
<td>false</td>
<td>JSON Array</td>
<td>JSON Array of UserGroupAssociation objects. If this is not present on create or update the users group associations will remain unmodified.</td>
</tr>
</tbody></table>
<h3 id='user-group-association-properties'>User Group Association Properties</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupId</td>
<td>true</td>
<td>String</td>
<td>The Id of the group you want the user associated to.</td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>String</td>
<td>The role of the user within the group.</td>
</tr>
</tbody></table>

<p><strong>Valid group roles</strong>:</p>

<ul>
<li>group_user</li>
<li>group_admin</li>
</ul>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>201 CREATED</code> - Returning the newly created or updated user.</li>
<li><code>400 BAD REQUEST</code> - When the request is malformed or you attempt to associate to a non existant group.</li>
</ul>
<h2 id='get-user-associated-facebook-pages'>Get User Associated Facebook Pages</h2>
<blockquote>
<p>Get User Associated Facebook Pages Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12309817412312"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"facebookPageName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Big Time Facebook Page"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"facebookPageId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231412312"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instagramId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1231243154123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a list of Facebook pages associated to the user.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET management/v1/user/{userId}/facebook/pages</code></p>
<h3 id='url-params-2'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>String</td>
<td>true</td>
<td>The ID of the user whose pages you want to view</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>200 OK</code> status code on sucess</li>
<li><code>404 NOT FOUND</code> when it can&#39;t locate the user.</li>
</ul>
<h2 id='create-or-update-user-batch'>Create Or Update User Batch</h2>
<blockquote>
<p>Batch Create Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test1@evocalize.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
      </span><span class="p">}</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Batch Update Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test1@evocalize.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"replaceGroups"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8675309"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
      </span><span class="p">}</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Create and Update Batch Repsonse</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reportId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HG3SrEndQch8dAZbjwBV"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to pass a JSON Array of User Request objects for creation or updating. Batches are limited to 1000 items at a time. The creation option is asynchronous - rather than returning the newly created items, you will receive a <code>report_id</code> which can be used to track status of the requests as they are processed in our system. Reports are stored for 30 days.</p>

<p>The JSON objects passed in the array are the same as the ones listed in Create Or Update User.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST management/v1/users</code></p>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>202 ACCEPTED</code> - List has been received and submitted for processing.</li>
<li><code>400 BAD REQUEST</code> - Malformed request.</li>
</ul>
<h2 id='deactivate-user'>Deactivate User</h2>
<blockquote>
<p>Deactivate User Response</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>No Body returned
</code></pre></div>
<p>Deactivates all active programs for a given user placing them in an inactive state.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>DELETE management/v1/user/{userId}</code></p>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>202 ACCEPTED</code></li>
</ul>
<h1 id='group-management-api'>Group Management API</h1><h2 id='get-groups'>Get Groups</h2>
<blockquote>
<p>Get Groups Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Group 1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5678"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Group 2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91011"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Group 3"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1213"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Group 4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"nextPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_next_page_token"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">another</span><span class="w"> </span><span class="err">page</span><span class="w">
  </span><span class="nl">"previousPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_previous_page_token"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">previous</span><span class="w"> </span><span class="err">page</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns all groups. This is a paginated response - returning 100 results per page with optional page tokens to go to the next page and previous page if they exist.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET management/v1/groups</code></p>
<h3 id='request-params-2'>Request Params</h3>
<table><thead>
<tr>
<th>Param</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pageToken</td>
<td>false</td>
<td>The page token (taken from either <code>nextPageToken</code>, or <code>previousPageToken</code> provided in the response) for the page you want to retrieve.</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>200 OK</code> NOTE: will return an empty array and this status code if there are no groups present.</li>
</ul>
<h2 id='create-or-update-group'>Create Or Update Group</h2>
<blockquote>
<p>Group Create/Update Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Group 1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Group Create/Update Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Group 1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Endpoint for creating new groups or updating existing ones.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST management/v1/group</code></p>
<h3 id='create-update-group-properties'>Create / Update Group Properties</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>true</td>
<td>String</td>
<td>ID of the group you wish to create or update.</td>
</tr>
<tr>
<td>name</td>
<td>true</td>
<td>String</td>
<td>The human-readable name of the group you are creating or updating.</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>201 CREATED</code></li>
</ul>
<h2 id='create-or-update-group-batch'>Create Or Update Group Batch</h2>
<blockquote>
<p>Group Create Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Group 1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Group Create Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reportId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HG3SrEndQch8dAZbjwBV"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Endpoint that allows you to pass a JSON Array of Group Request objects for creation. Batches are limited to 1000 items at a time. The creation option is asynchronous - rather than returning the newly created items, you will receive a <code>report_id</code> which can be used to track status of the requests as they are processed in our system. Reports are stored for 30 days.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST management/v1/groups</code></p>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>202 ACCEPTED</code> - List has been received and submitted for processing.</li>
<li><code>400 BAD REQUEST</code> - Malformed request.</li>
</ul>
<h1 id='content-management-api'>Content Management API</h1><h2 id='get-repository'>Get Repository</h2>
<blockquote>
<p>Get Repository Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repository_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Repository Name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">" Repository Description"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isWritable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"field_name"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isNullable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">can</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w"> </span><span class="s2">"number"</span><span class="p">,</span><span class="w"> </span><span class="s2">"boolean"</span><span class="p">,</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="s2">"date_time"</span><span class="w">
      </span><span class="p">}</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a single repository and associated fields.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET management/v1/repository/{repositoryId}</code></p>
<h3 id='url-params'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>true</td>
<td>String</td>
<td>The ID of the repository you are wanting to retrieve</td>
</tr>
</tbody></table>
<h3 id='response-codes'>Response Codes:</h3>
<ul>
<li><code>200 OK</code> status code on sucess</li>
<li><code>404 NOT FOUND</code> when it can&#39;t locate the repository.</li>
</ul>
<h2 id='get-repositories'>Get Repositories</h2>
<blockquote>
<p>Get Repositories Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repository_id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Repository Name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a list of repositories.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET management/v1/repositories</code></p>
<h3 id='response-codes-2'>Response Codes:</h3>
<ul>
<li><code>200 OK</code> status code on sucess</li>
</ul>
<h2 id='get-item'>Get Item</h2>
<blockquote>
<p>Get Item Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item_id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repository_field_name_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some value here"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repository_field_name_2"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a content item. The JSON object in the <code>values</code> field of the response will contains fields defined by the repository&#39;s fields.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET management/v1/repository/{repositoryId}/item/{itemId}</code></p>
<h3 id='url-params-2'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>true</td>
<td>String</td>
<td>The ID of the repository you are wanting to retrieve</td>
</tr>
<tr>
<td>itemId</td>
<td>true</td>
<td>String</td>
<td>The ID of the item you are wanting to retrieve</td>
</tr>
</tbody></table>
<h3 id='response-codes-3'>Response Codes:</h3>
<ul>
<li><code>200 OK</code> status code on sucess</li>
<li><code>404 NOT FOUND</code> when it can&#39;t locate the item</li>
</ul>
<h2 id='create-or-update-item'>Create Or Update Item</h2>
<blockquote>
<p>Create Or Update Item Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"repository_field_name_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some value here"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"repository_field_name_2"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Create Or Update Item Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item_id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repository_field_name_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some value here"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repository_field_name_2"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates or updates a content item. The JSON request object should contain fields defined by the repository&#39;s fields.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST management/v1/repository/{repositoryId}/item</code></p>
<h3 id='url-params-3'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>true</td>
<td>String</td>
<td>The ID of the repository in which you are wanting to create or update an item</td>
</tr>
</tbody></table>
<h3 id='response-codes-4'>Response Codes:</h3>
<ul>
<li><code>200 OK</code> status code on sucess</li>
</ul>
<h2 id='create-or-update-item-batch'>Create Or Update Item Batch</h2>
<blockquote>
<p>Batch Create Or Update Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item_id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repository_field_name_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some value here"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repository_field_name_2"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Create and Update Batch Repsonse</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reportId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HG3SrEndQch8dAZbjwBV"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to pass a JSON Array of Item Request objects for creation or updating. Batches are limited to 1000 items at a time. The creation option is asynchronous - rather than returning the newly created items, you will receive a <code>report_id</code> which can be used to track status of the requests as they are processed in our system. Reports are stored for 30 days.</p>

<p>The JSON objects passed in the array are the same as the ones listed in Create Or Update Item.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST management/v1/repository/{repositoryId}/items</code></p>
<h3 id='url-params-4'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>true</td>
<td>String</td>
<td>The ID of the repository in which you are wanting to create or update items</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>202 ACCEPTED</code> - List has been received and submitted for processing.</li>
<li><code>400 BAD REQUEST</code> - Malformed request.</li>
</ul>
<h2 id='delete-item'>Delete Item</h2>
<blockquote>
<p>Delete Item Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"item_id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repository_field_name_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some value here"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repository_field_name_2"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Deletes a content item.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>DELETE management/v1/repository/{repositoryId}/item/{itemId}</code></p>
<h3 id='url-params-5'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>true</td>
<td>String</td>
<td>The ID of the repository in which you are wanting to delete an item</td>
</tr>
<tr>
<td>itemId</td>
<td>true</td>
<td>String</td>
<td>The ID of the item you are wanting to delete</td>
</tr>
</tbody></table>
<h3 id='response-codes-5'>Response Codes:</h3>
<ul>
<li><code>200 OK</code> status code on sucess</li>
<li><code>404 NOT FOUND</code> when it can&#39;t locate the item</li>
</ul>
<h2 id='delete-item-batch'>Delete Item Batch</h2>
<blockquote>
<p>Batch Delete Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"item_id_1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"item_id_2"</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Delete Batch Repsonse</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reportId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HG3SrEndQch8dAZbjwBV"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to pass a JSON Array of Item IDs for deletion. Batches are limited to 1000 items at a time. The creation option is asynchronous - rather than returning the newly created items, you will receive a <code>report_id</code> which can be used to track status of the requests as they are processed in our system. Reports are stored for 30 days.</p>

<p>The JSON objects passed in the array are the same as the ones listed in Create Or Update Item.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>DELETE management/v1/repository/{repositoryId}/items</code></p>
<h3 id='url-params-6'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>true</td>
<td>String</td>
<td>The ID of the repository in which you are wanting to delete items</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>202 ACCEPTED</code> - List has been received and submitted for processing.</li>
<li><code>400 BAD REQUEST</code> - Malformed request.</li>
</ul>
<h1 id='content-access-api'>Content Access API</h1><h2 id='access-basics'>Access Basics</h2>
<p>For each content item your organization uploads you will need coresponding access records. Access records define who can use the item for their ad campaigns and whether or not they have the ability to edit the item after it is in the system. Content Items have a one to many relationship to access records, although it is completely valid to have a content item only accessible by a single user.</p>

<p>Access to a given content item can be defined at the following levels:
- User based
- Group Based
- Group and Role based</p>

<p>The ability to edit the content item can be granted by passing true for the <code>canEdit</code> flag. </p>
<h2 id='get-access-records-associated-to-a-repository'>Get Access Records associated to a repository</h2>
<blockquote>
<p>Access Records Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"contentItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exampleId1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_user_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"canEdit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_user"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">more</span><span class="w"> </span><span class="err">records</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">applicable</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"nextPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_page_token"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">another</span><span class="w"> </span><span class="err">page</span><span class="w">
    </span><span class="nl">"previousPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"previous_page_token"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">previous</span><span class="w"> </span><span class="err">page</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre></div>
<p>If you decline to pass query params - this call will return all access records associated with a given repository. Otherwise it will return return a subset based on the provied query parameters.</p>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>200 OK</code></li>
</ul>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET management/v1/repository/{repositoryId}/access</code></p>
<h3 id='url-params'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>String</td>
<td>true</td>
<td>The ID of the content repository whose access records you wish to view.</td>
</tr>
</tbody></table>
<h3 id='request-query-params'>Request Query Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>string</td>
<td>false</td>
<td>Query for all records that match the provided userId.</td>
</tr>
<tr>
<td>groupId</td>
<td>string</td>
<td>false</td>
<td>Query for all records that match the provided groupId, note that this will return records that may or may not have a userId associated with them.</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>false</td>
<td>Query for all records that match the provided role. If this is omitted, all records will be return according to the other criteria provided.</td>
</tr>
<tr>
<td>deletedOnly</td>
<td>boolean</td>
<td>false</td>
<td>When this is passed we will only return items that have been deleted.</td>
</tr>
</tbody></table>
<h2 id='get-access-records-associated-to-a-repository-and-content-item'>Get Access Records associated to a repository and content item</h2>
<blockquote>
<p>Access Records Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"contentItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exampleId1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_user_1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"canEdit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_user"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">more</span><span class="w"> </span><span class="err">records</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">applicable</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"nextPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next_page_token"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">another</span><span class="w"> </span><span class="err">page</span><span class="w">
    </span><span class="nl">"previousPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"previous_page_token"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">previous</span><span class="w"> </span><span class="err">page</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre></div><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET management/v1/repository/{repositoryId}/access/item/{contentItemId}</code></p>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>200 OK</code></li>
</ul>
<h3 id='url-params-2'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>string</td>
<td>true</td>
<td>The ID of the content repository whose access records you wish to view</td>
</tr>
<tr>
<td>contentItemId</td>
<td>string</td>
<td>true</td>
<td>The ID of the content item whose access records you wish to view</td>
</tr>
</tbody></table>
<h3 id='request-query-params-2'>Request Query Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>string</td>
<td>false</td>
<td>Query for all records that match the provided userId.</td>
</tr>
<tr>
<td>groupId</td>
<td>string</td>
<td>false</td>
<td>Query for all records that match the provided groupId, note that this will return records that may or may not have a userId associated with them.</td>
</tr>
<tr>
<td>role</td>
<td>string</td>
<td>false</td>
<td>Query for all records that match the provided role. If this is omitted, all records will be return according to the other criteria provided.</td>
</tr>
<tr>
<td>deletedOnly</td>
<td>boolean</td>
<td>false</td>
<td>When this is passed we will only return items that have been deleted.</td>
</tr>
</tbody></table>
<h2 id='create-update-a-single-access-record'>Create/Update a single access record</h2>
<blockquote>
<p>Access Record Request Payload: Every <code>group_user</code> in the group <code>seattle_office</code> can use this content item. Can not edit.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contentItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exampleId1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canEdit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_user"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Access Record Request Payload: User <code>seattle_user_1</code>, in group <code>seattle_office</code> has is able to use this content item. Can not edit.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"contentItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exampleId1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_user_1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canEdit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_user"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Access Record Response Payload</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"contentItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exampleId1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_user_1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canEdit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_user"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST management/v1/repository/{repositoryId}/access/item</code></p>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>201 CREATED</code></li>
</ul>
<h3 id='create-update-access-record-request-fields'>Create / Update Access Record Request fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Nullable</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contentItemId</td>
<td>false</td>
<td>string</td>
<td>The content item id for which this access record is responsible for.</td>
</tr>
<tr>
<td>userId</td>
<td>true</td>
<td>string</td>
<td>If you would like access to be constrained to a specifc user, set this field. Otherwise pass null.</td>
</tr>
<tr>
<td>groupId</td>
<td>false</td>
<td>string</td>
<td>The group associated to this content item. If userId is null, then all members of the group (with the given role) have access to the content item</td>
</tr>
<tr>
<td>role</td>
<td>false</td>
<td>string</td>
<td>The role this access row applies too. Valid roles are <code>group_user</code>, <code>group_admin</code>. If you do not want to provide access based on role - pass <code>any</code></td>
</tr>
<tr>
<td>canEdit</td>
<td>false</td>
<td>boolean</td>
<td>Sets whether or not the users this access record applies too are allowed to edit the content.</td>
</tr>
</tbody></table>
<h2 id='create-update-access-record-batch'>Create / Update Access Record Batch</h2>
<blockquote>
<p>Batch Create Or Update Request</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"contentItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exampleId1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_user_1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canEdit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_user"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"contentItemId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exampleId2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_user_1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"canEdit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Create and Update Batch Repsonse</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reportId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HG3SrEndQch8dAZbjwBV"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to pass a JSON Array of Access Record Request objects for creation or updating. Batches are limited to 1000 items at a time. The creation option is asynchronous - rather than returning the newly created items, you will receive a <code>report_id</code> which can be used to track status of the requests as they are processed in our system. Reports are stored for 30 days.</p>

<p>The JSON objects passed in the array are the same as the ones listed in Create Or Update Access Record.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST management/v1/repository/{repositoryId}/access/items</code></p>
<h3 id='url-params-3'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repositoryId</td>
<td>true</td>
<td>String</td>
<td>The ID of the repository in which you are wanting to create or update items</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>202 ACCEPTED</code> - List has been received and submitted for processing.</li>
<li><code>400 BAD REQUEST</code> - Malformed request.</li>
</ul>
<h2 id='delete-access-record'>Delete Access Record</h2>
<blockquote>
<p>Remove Single Access for a given Content Item Record Request Payload (Request Includes <code>/{contentItemId}</code>).</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_user_2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Remove All Access Records Associated For A Given Content Item and <code>groupId</code> Request Payload (Request Includes <code>/{contentItemId}</code>).</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Remove All Access Records Associated For A Given Content Item Request Payload (Request Includes <code>/{contentItemId}</code>).</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Remove All Access Records For A Given Repository Matching a Specific <code>userId</code> (Request Includes <code>/{contentItemId}</code>).</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example_user_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Remove All Access Records For A Given Repository Matching a Specific <code>groupId</code> (Request Does Not Include <code>/{contentItemId}</code>).</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Remove All Access Records For A Given Repository Matching a Specific <code>groupId</code> and <code>userId</code> (Request Does Not Include <code>/{contentItemId}</code>).</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example_user_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Remove All Access Records In a Respository (Request Does Not Include <code>/{contentItemId}</code>)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"numberOfAccessRecordsDeleted"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre></div>
<p>Removing access follows a very similar pattern to querying for them. One important difference is that you <em>must</em> always pass each field, with <code>null</code> being a valid value. Example: If you wanted to remove all the access records for a given <code>contentItemId</code> then you would need to set <code>userId</code>, <code>groupId</code> and <code>role</code> as null. If you omit <code>contentItemId</code> the operation is applied against the entire <code>repository</code>. If your query does not match any access records the response will indicate <code>0</code>.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE management/v1/repository/{repositoryId}/access/item/{contentItemId}</code>,
<code>DELETE management/v1/repository/{repositoryId}/access</code></p>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>200 OK</code></li>
</ul>
<h3 id='url-params-4'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contentItemId</td>
<td>string</td>
<td>false</td>
<td>The Id of the content item whose access records you are removing.</td>
</tr>
</tbody></table>
<h3 id='delete-access-record-fields'>Delete Access Record Fields</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Nullable</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userId</td>
<td>true</td>
<td>string</td>
<td>The user id for the associated access record.</td>
</tr>
<tr>
<td>groupId</td>
<td>true</td>
<td>string</td>
<td>The group id for the associated access record.</td>
</tr>
<tr>
<td>role</td>
<td>true</td>
<td>string</td>
<td>The role for the associated access record.</td>
</tr>
</tbody></table>
<h1 id='batch-report-api'>Batch Report API</h1><h2 id='get-report'>Get Report</h2>
<blockquote>
<p>Get Report Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"totalItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">750</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completedItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successfulItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
    </span><span class="nl">"errorItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isCompleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>For batch endpoints we return a <code>report_id</code> string instead of the created objects. This endpoint allows you to view the status of a given batch. We retain this data for 30 days after the report was generated.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET management/v1/items/report/{reportId}</code></p>
<h3 id='url-params'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reportId</td>
<td>true</td>
<td>String</td>
<td>The ID of the report you are wanting to retrieve</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<p><code>200 OK</code>
<code>404 NOT FOUND</code> - When we are unable to locate a report with that ID.</p>
<h2 id='get-errors-batch-rquests'>Get Errors Batch Rquests</h2>
<blockquote>
<p>Get Report Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"input"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_user_id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test User"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@evocalize.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seattle_office"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle Office"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group_admin"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"errorMessage"</span><span class="p">:</span><span class="s2">"Duplicate user create request detected: user with example@evocalize.com has already been associated to another user id."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"restErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EV_BAD_REQUEST_DUPLICATE"</span><span class="w"> </span><span class="err">//this</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">always</span><span class="w"> </span><span class="err">present.</span><span class="w"> 
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"nextPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_next_page_token"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">another</span><span class="w"> </span><span class="err">page</span><span class="w">
  </span><span class="nl">"previousPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_previous_page_token"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">only</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">there</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">previous</span><span class="w"> </span><span class="err">page</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint displays error information for items in a given batch (retrieved by passing the <code>report_id</code> similar to the above call) that were not successful. The error messages and error codes generally are the ones you would see if using the non batch endpoints. For debugging purposes we return the input used so you can amend any mistakes. If there are no errors associated with a report this endpoint will return an empty array for the data field.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET management/v1/items/report/{reportId}/errors</code></p>
<h3 id='url-params-2'>URL Params</h3>
<table><thead>
<tr>
<th>URL Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reportId</td>
<td>true</td>
<td>String</td>
<td>The ID of the report you are wanting to retrieve</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<p><code>200 OK</code></p>
<h1 id='webhooks'>Webhooks</h1><h2 id='client-leads-webhook'>Client Leads Webhook</h2>
<p>Evocalize can notify your organization via webhook any time a new lead is ingested from an upstream platform such as Facebook or Google. Upon notification from the upstream platform that new lead data has been created, we combine that with Evocalize data and your data, and send it to you, allowing you to handle leads in near real-time.</p>
<h3 id='setup'>Setup</h3>
<p>You will need to work with your account manager and supply Evocalize with an endpoint url where you would like to be notified with the payload specified below. Your endpoint url must use SSL (https) and accept a POST. You will need to have a <code>ClientKeyID</code> and a <code>ClientSecret</code>. These are the same values that you will use to call our API for other operations.</p>
<h3 id='policies'>Policies</h3>
<ul>
<li>Each lead may be delivered more than once. This is rare, but it is possible. The leads[].id is unique to a particular lead and will not change between deliveries if a lead is delivered multiple times.</li>
<li>Any response code in the range of 200 - 299 is considered a success, any other response code is considered a failure and we will attempt to redeliver the lead notification.</li>
<li>The HTTPS request will time out after 5 seconds. If this happens, delivery is considered a failure and we will attempt to redeliver the lead notification.</li>
<li>The time between retry attempts is exponential, with a maximum of 15 minutes between tries. After three hours have elapsed since the first attempt, we will no longer try to deliver the leads. If something has happened causing your platform to stop ingesting leads for more than 3 hours, contact your Evocalize account representative.</li>
</ul>
<h3 id='headers'>Headers</h3>
<ul>
<li><code>X-Evocalize-Payload-Version</code> - The version of the payload.</li>
<li><code>X-Evocalize-Client-Key-Id</code> - Provided by Evocalize, your <code>ClientKeyId</code> from above.</li>
<li><code>X-Evocalize-Timestamp</code> - Timestamp of when the request was sent.</li>
<li><code>X-Evocalize-Signature</code> - The signature of the payload, see Signature below.</li>
</ul>
<h3 id='signature-validation-optional'>Signature Validation - Optional</h3>
<blockquote>
<p>Signature validation</p>
</blockquote>
<div class="highlight"><pre class="highlight kotlin tab-kotlin"><code><span class="c1">// Concatenate all the parts</span>
<span class="kd">val</span> <span class="py">toValidate</span> <span class="p">=</span> <span class="nc">StringBuilder</span><span class="p">()</span>
    <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">servletPath</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"\n"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="nf">body</span><span class="p">())</span>
    <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"\n"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">[</span><span class="s">"X-Evocalize-Timestamp"</span><span class="p">])</span>
    <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="s">"\n"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">myClientSecret</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">toString</span><span class="p">()</span>

<span class="c1">// expectedSignature will match request.headers["X-Evocalize-Signature"]</span>
<span class="kd">val</span> <span class="py">expectedSignature</span> <span class="p">=</span> <span class="nc">Hashing</span><span class="p">.</span><span class="nf">sha256</span><span class="p">().</span><span class="nf">hashString</span><span class="p">(</span><span class="n">toValidate</span><span class="p">,</span> <span class="nc">Charsets</span><span class="p">.</span><span class="nc">UTF_8</span><span class="p">)</span>
</code></pre></div>
<p>For extra security, partners may have the need or desire to validate each individual request signature. Validating the request signature provides extra security over relying solely on the <code>ClientKeyId</code> because it uses the <code>ClientSecret</code> above. The <code>ClientSecret</code> is never sent over the wire. The methodology is simple. Join the following values into one string, separated by a newline, then hash them using SHA-256</p>

<ul>
<li>urlPath</li>
<li>requestBody</li>
<li>X-Evocalize-Timestamp header</li>
<li>ClientSecret</li>
</ul>

<p>Since we require the use of the https protocol for our webhooks, it is up to each partner to choose if they would like to validate the signature.</p>
<h3 id='payload'>Payload</h3>
<blockquote>
<p>Payload Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"leads"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook:1584659102387"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"facebook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"summary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"leadgenId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1584659102387"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"pageId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1584659102389"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"leadFormId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1584659102390"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"adgroupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1584659102388"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"adId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1584659102388"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"createdAtEpochSeconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">1584659108</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"leadForm"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"field_one"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"value one"</span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"friendlyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catalog Field Name"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"columnName"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"field value"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"program"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"projectId"</span><span class="p">:</span><span class="w"> </span><span class="mi">643545619583019092</span><span class="p">,</span><span class="w">
        </span><span class="nl">"programId"</span><span class="p">:</span><span class="w"> </span><span class="mi">643545619499133011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"programName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"programName-1584659102374"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"programDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verbose program description-1584659102375"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"programVariables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"customValue1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom value for your application"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"customValue2"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">643545620052781143</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email-1584659102362@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"groupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3775e2cc-e8f0-4402-b947-e8f2112fc1b4"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderItem"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderItemId"</span><span class="p">:</span><span class="w"> </span><span class="mi">643545620774201440</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Special consideration should be taken not to fail if a new field is present in your data that you did not expect. We will notify you when a field is removed from our specification, but we will not notify you when a field is added to the specification. If a field is removed from the specification, the payloadVersion will increment.</p>

<p>The potential values of leadForm and content depends upon your imported data and program setup. Your account representative can help with this.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Nullable</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>leads</td>
<td>false</td>
<td>array</td>
<td>A list of lead data.</td>
</tr>
<tr>
<td>leads[]</td>
<td>false</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>leads[].id</td>
<td>false</td>
<td>string</td>
<td>The id of this lead.</td>
</tr>
<tr>
<td>leads[].facebook</td>
<td>false</td>
<td>object</td>
<td>Facebook data for this lead.</td>
</tr>
<tr>
<td>leads[].facebook.summary</td>
<td>false</td>
<td>object</td>
<td>Summary data for this facebook lead.</td>
</tr>
<tr>
<td>leads[].facebook.summary.leadgenId</td>
<td>false</td>
<td>string</td>
<td>Facebook&#39;s leadgen_id.</td>
</tr>
<tr>
<td>leads[].facebook.summary.pageId</td>
<td>false</td>
<td>string</td>
<td>The facebook page that the ad for this lead is associated with.</td>
</tr>
<tr>
<td>leads[].facebook.summary.leadFormId</td>
<td>false</td>
<td>string</td>
<td>The facebook lead form id associated with this lead.</td>
</tr>
<tr>
<td>leads[].facebook.summary.adgroupId</td>
<td>false</td>
<td>string</td>
<td>The facebook adgroup id associated with this lead.</td>
</tr>
<tr>
<td>leads[].facebook.summary.adId</td>
<td>false</td>
<td>string</td>
<td>The facebook ad id associated with this lead.</td>
</tr>
<tr>
<td>leads[].facebook.summary.createdAtEpochSeconds</td>
<td>false</td>
<td>long</td>
<td>The time this lead was created, as a unix timestamp in seconds.</td>
</tr>
<tr>
<td>leads[].facebook.leadForm</td>
<td>false</td>
<td>array</td>
<td>Values that a person filled out on the lead form.</td>
</tr>
<tr>
<td>leads[].facebook.leadForm[]</td>
<td>false</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>leads[].facebook.leadForm[].name</td>
<td>false</td>
<td>string</td>
<td>The name of the facebook lead form field.</td>
</tr>
<tr>
<td>leads[].facebook.leadForm[].values</td>
<td>false</td>
<td>array</td>
<td>An array of the values the user filled out.</td>
</tr>
<tr>
<td>leads[].facebook.leadForm[].values[]</td>
<td>false</td>
<td>string</td>
<td>Each element is a value that the end user selected or entered. In most cases there is only one element.</td>
</tr>
<tr>
<td>leads[].content</td>
<td>false</td>
<td>array</td>
<td>An array of content items associated with this ad.</td>
</tr>
<tr>
<td>leads[].content[]</td>
<td>false</td>
<td>array</td>
<td>An array of content fields for the item.</td>
</tr>
<tr>
<td>leads[].content[][]</td>
<td>false</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>leads[].content[][].friendlyName</td>
<td>true</td>
<td>string</td>
<td>The friendly name of this content field.</td>
</tr>
<tr>
<td>leads[].content[][].name</td>
<td>false</td>
<td>string</td>
<td>The actual name of this content field. It will be in snake_case.</td>
</tr>
<tr>
<td>leads[].content[][].value</td>
<td>true</td>
<td>string</td>
<td>The value for this content field. It could be null.</td>
</tr>
<tr>
<td>leads[].program</td>
<td>false</td>
<td>object</td>
<td>Details about the program that published the ad associated with this lead.</td>
</tr>
<tr>
<td>leads[].program.projectId</td>
<td>false</td>
<td>long</td>
<td>The evocalize project id associated with this lead.</td>
</tr>
<tr>
<td>leads[].program.programId</td>
<td>false</td>
<td>long</td>
<td>The evocalize program id associated with this lead.</td>
</tr>
<tr>
<td>leads[].program.programName</td>
<td>false</td>
<td>long</td>
<td>The name of the program that published this ad.</td>
</tr>
<tr>
<td>leads[].program.programDescription</td>
<td>true</td>
<td>string</td>
<td>The description of the program that published this ad.</td>
</tr>
<tr>
<td>leads[].program.programVariables</td>
<td>true</td>
<td>object</td>
<td>A key-value map containing values specific to your application. If you have values that you need our API to return for this field, please contact your Evocalize account representative.</td>
</tr>
<tr>
<td>leads[].order</td>
<td>true</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>leads[].order.orderId</td>
<td>false</td>
<td>long</td>
<td>The order id associated with the program.</td>
</tr>
<tr>
<td>leads[].order.userId</td>
<td>false</td>
<td>string</td>
<td>The user id associated with this order. This is the id in your system.</td>
</tr>
<tr>
<td>leads[].order.groupId</td>
<td>false</td>
<td>string</td>
<td>The group id associated with this order. This is the id in your system.</td>
</tr>
<tr>
<td>leads[].order.orderItem</td>
<td>false</td>
<td>object</td>
<td></td>
</tr>
<tr>
<td>leads[].order.orderItem.orderItemId</td>
<td>false</td>
<td>long</td>
<td>The order item id associated with the order project.</td>
</tr>
</tbody></table>
<h1 id='facebook-audiences-api'>Facebook Audiences API</h1>
<p>If you have existing facebook audiences that you would like to
import into Evocalize, then you can use this API. We currently
support add and retrieve at this time.</p>
<h2 id='get-facebook-audiences'>Get Facebook Audiences</h2>
<blockquote>
<p>Get Facebook Audiences Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1462332663628108358</span><span class="p">,</span><span class="w">
      </span><span class="nl">"facebookAudienceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someAudienceIdFromFacebook"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Audience"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"idOfSomeUserInEvocalize"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOM_AUDIENCE"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1462333796459287111</span><span class="p">,</span><span class="w">
      </span><span class="nl">"facebookAudienceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someAudienceIdFromFacebook"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Audience 2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOM_AUDIENCE"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"nextPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_next_page_token (only present when there is another page)"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"previousPageToken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_previous_page_token (only present when there is another page)"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Retrieves all facebook audiences you have stored in Evocalize.
This is a paginated response - returning 100 results per page
with optional page tokens to go to the next page and previous page if they exist.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET management/v1/facebookaudiences</code></p>
<h3 id='request-params'>Request Params</h3>
<table><thead>
<tr>
<th>Param</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pageToken</td>
<td>false</td>
<td>The page token (taken from either <code>nextPageToken</code>, or <code>previousPageToken</code> provided in the response) for the page you of results you want to view.</td>
</tr>
</tbody></table>

<p><strong>Response Codes</strong>:</p>

<ul>
<li><code>200 OK</code> - NOTE: will return an empty array and this status code if there are no audiences present.</li>
</ul>
<h2 id='add-existing-facebook-audience'>Add Existing Facebook Audience</h2>
<blockquote>
<p>Add Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"facebookAudienceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someAudienceIdFromFacebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Audience"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"idOfSomeUserInEvocalize"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Add Response Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1462333796459287111</span><span class="p">,</span><span class="w">
    </span><span class="nl">"facebookAudienceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someAudienceIdFromFacebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Audience"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"idOfSomeUserInEvocalize"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOM_AUDIENCE"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Use this endpoint to add an existing facebook audience to Evocalize.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST management/v1/facebookaudience</code></p>
<h3 id='add-facebook-audience-request-properties'>Add Facebook Audience Request Properties</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>facebookAudienceId</td>
<td>true</td>
<td>String</td>
<td>The ID of the audience in Facebook.</td>
</tr>
<tr>
<td>name</td>
<td>true</td>
<td>String</td>
<td>The name of the audience.</td>
</tr>
<tr>
<td>userId</td>
<td>false</td>
<td>String</td>
<td>The ID of the user in Evocalize who owns this audience. The audience will only display for this user. If null, then the audience will display for everyone.</td>
</tr>
</tbody></table>
<h2 id='bulk-add-existing-facebook-audiences'>Bulk Add Existing Facebook Audiences</h2>
<blockquote>
<p>Bulk Add Request Example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"audiences"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"facebookAudienceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Audience 1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"facebookAudienceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Audience 2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someUserId"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Use this endpoint to add multiple existing facebook audiences to Evocalize
in a single call. You can add up to 500 audiences per call. This
endpoint has no response body.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST management/v1/facebookaudiences</code></p>
<h3 id='add-facebook-audience-request-properties-2'>Add Facebook Audience Request Properties</h3>
<p>The request body is a json object with one property, <code>audiences</code>. <code>audiences</code> is an array of facebook
audience objects. Each object has the fields described below:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>facebookAudienceId</td>
<td>true</td>
<td>String</td>
<td>The ID of the audience in Facebook.</td>
</tr>
<tr>
<td>name</td>
<td>true</td>
<td>String</td>
<td>The name of the audience.</td>
</tr>
<tr>
<td>userId</td>
<td>false</td>
<td>String</td>
<td>The ID of the user in Evocalize who owns this audience. The audience will only display for this user. If null, then the audience will display for everyone.</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>We return the appropriate HTTP Status code when we return an error. Additionally we do our best to provide a human readable error message to help you figure out what went wrong.</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>HTTP Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>EV_BAD_REQUEST_INVALID_FIELDS</td>
<td>400</td>
<td>Request is missing required fields or has failed validation check.</td>
</tr>
<tr>
<td>EV_BAD_REQUEST_TOO_MANY_ITEMS</td>
<td>400</td>
<td>Batch request contains too many items.</td>
</tr>
<tr>
<td>EV_BAD_REQUEST_MALFORMED</td>
<td>400</td>
<td>Malformed request, e.g. a type mismatch.</td>
</tr>
<tr>
<td>EV_BAD_REQUEST_DUPLICATE</td>
<td>400</td>
<td>An object with a different id already exists.</td>
</tr>
<tr>
<td>EV_OBJECT_NOT_FOUND</td>
<td>404</td>
<td>Unable to locate requested resource.</td>
</tr>
<tr>
<td>EV_UNAUTHORIZED_INVALID_KEY</td>
<td>401</td>
<td>Provided Client Key Id is invalid.</td>
</tr>
<tr>
<td>EV_UNAUTHORIZED_MISSING_HEADERS</td>
<td>401</td>
<td>Request is missing one of the required headers.</td>
</tr>
<tr>
<td>EV_UNAUTHORIZED_INVALID_SIGNATURE</td>
<td>401</td>
<td>Signature provided in <code>X-Evocalize-Signature</code> is not valid.</td>
</tr>
<tr>
<td>EV_UNAUTHORIZED_EXPIRED_REQUEST</td>
<td>401</td>
<td>Request timestamp is over 1 minute old.</td>
</tr>
<tr>
<td>EV_INTERNAL_SERVER_ERROR</td>
<td>500</td>
<td>We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>
<h1 id='architecture-deep-linking'>Architecture Deep Linking</h1><h2 id='content'>Content</h2>
<p>The following information explains how to generate a deep link to take a user to view all of their content under a
specific architecture.</p>
<h3 id='base-url'>Base URL</h3>
<p><code>/#/architecture/&lt;ARCHITECTURE_ID&gt;/content</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<blockquote>
<p>Content Filter Example - adding an automatic filter on the status attribute where the value contains &quot;Sold&quot;</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>contentFilter=%7B%22status%22%3A%20%7B%22contains%22%3A%20%22Sold%22%7D%7D
</code></pre></div>
<blockquote>
<p>The raw value from the example above is</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "status": {
    "contains": "Sold"
  }
}
</code></pre></div>
<p>All query parameters must be properly encoded URI components. For further information on this, please see documentation
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent">here</a></p>

<table><thead>
<tr>
<th>Query Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contentFilter</td>
<td>false</td>
<td>Encoded JSON</td>
<td>JSON enabling filtering of content</td>
</tr>
<tr>
<td>sideNav</td>
<td>false</td>
<td>String</td>
<td>&quot;closed&quot; or &quot;open&quot; to control whether or not the left nav is displayed.</td>
</tr>
</tbody></table>
<h2 id='currently-running-programs'>Currently Running Programs</h2>
<p>The link below is where you should send users to view all the purchases they have made for a specific architecture.</p>
<h3 id='base-url-2'>Base URL</h3>
<p><code>/#/architecture/&lt;ARCHITECTURE_ID&gt;/programs</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Query Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sideNav</td>
<td>false</td>
<td>String</td>
<td>&quot;closed&quot; or &quot;open&quot; to control whether or not the left nav is displayed.</td>
</tr>
</tbody></table>
<h2 id='program-creation-purchase-base'>Program Creation/Purchase Base</h2>
<p>This URL will take a user to the order process without a Blueprint or any items selected (they will be prompted to
select both in the UI):</p>
<h3 id='base-path'>Base PATH</h3>
<p><code>/#/architecture/&lt;ARCHITECTURE_ID&gt;/programCreate</code></p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<blockquote>
<p>Send a user to the place order page with a specific blueprint selected</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">redirectUser</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://your-white-label-domain.com/#/architecture/&lt;ARCHITECTURE_ID&gt;/programCreate?productIds=&lt;BLUEPRINT_ID&gt;</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Send a user to the place order page with a blueprint selected and one of their items selected</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">redirectUser</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://your-white-label-domain.com/#/architecture/&lt;ARCHITECTURE_ID&gt;/programCreate?productIds=&lt;BLUEPRINT_ID&gt;&amp;contentIds=&lt;CONTENT_ID_1&gt;</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>
<p>The following parameters can be used on their own or together to pre-select form field options for a user. These can
help reduce steps for users to place an order by pre-selecting things like content or a Blueprint. Users can still
change these values once the page has loaded.</p>

<table><thead>
<tr>
<th>Query Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>productIds</td>
<td>false</td>
<td>Int</td>
<td>A single blueprint ID. Pre-selects the blueprint for program creation.</td>
</tr>
<tr>
<td>contentIds</td>
<td>false</td>
<td>Int Array</td>
<td>Comma-separated IDs. Pre-selects content to be used for the program.</td>
</tr>
<tr>
<td>sideNav</td>
<td>false</td>
<td>String</td>
<td>&quot;closed&quot; or &quot;open&quot; to control whether or not the left nav is displayed.</td>
</tr>
</tbody></table>
<h2 id='automated-program-creation'>Automated Program Creation</h2>
<p>This URL will take a user to the automated program creation screen.</p>
<h3 id='base-url-3'>Base URL</h3>
<p><code>/#/architecture/&lt;ARCHITECTURE_ID&gt;/automatedProgramCreate</code></p>
<h3 id='query-parameters-4'>Query Parameters</h3>
<blockquote>
<p>Filter JSON example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"column"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent_name"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w"> </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w"> </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jim FakeName"</span><span class="w"> </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w"> </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="p">,</span><span class="w"> </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane FakeName"</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"column"</span><span class="p">:</span><span class="w"> </span><span class="s2">"price"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w"> </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"range"</span><span class="p">,</span><span class="w"> </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="p">,</span><span class="w"> </span><span class="nl">"lt"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000000</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Remove unnecessary white space. As long as all the white space is url encoded this step
is not required, but it results in a shorter url. Take care not to remove space in string 
values e.g. &quot;New York&quot; vs &quot;NewYork&quot;</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[{</span><span class="nl">"column"</span><span class="p">:</span><span class="s2">"agent_name"</span><span class="p">,</span><span class="nl">"rules"</span><span class="p">:[{</span><span class="nl">"operator"</span><span class="p">:</span><span class="s2">"eq"</span><span class="p">,</span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"Jim FakeName"</span><span class="p">},{</span><span class="nl">"operator"</span><span class="p">:</span><span class="s2">"eq"</span><span class="p">,</span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"Jane FakeName"</span><span class="p">}]},{</span><span class="nl">"column"</span><span class="p">:</span><span class="s2">"price"</span><span class="p">,</span><span class="nl">"rules"</span><span class="p">:[{</span><span class="nl">"operator"</span><span class="p">:</span><span class="s2">"range"</span><span class="p">,</span><span class="nl">"value"</span><span class="p">:{</span><span class="nl">"gt"</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span><span class="nl">"lt"</span><span class="p">:</span><span class="mi">2000000</span><span class="p">}}]}]</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Convert to url parameter</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>filters=%5B%7B%22column%22%3A%22agent_name%22%2C%22rules%22%3A%5B%7B%22operator%22%3A%22eq%22%2C%22value%22%3A%22Jim%20FakeName%22%7D%2C%7B%22operator%22%3A%22eq%22%2C%22value%22%3A%22Jane%20FakeName%22%7D%5D%7D%2C%7B%22column%22%3A%22price%22%2C%22rules%22%3A%5B%7B%22operator%22%3A%22range%22%2C%22value%22%3A%7B%22gt%22%3A1000000%2C%22lt%22%3A2000000%7D%7D%5D%7D%5D 
</code></pre></div>
<table><thead>
<tr>
<th>Query Param</th>
<th>Required</th>
<th>type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sideNav</td>
<td>false</td>
<td>String</td>
<td>&quot;closed&quot; or &quot;open&quot; to control whether or not the left nav is displayed.</td>
</tr>
<tr>
<td>filters</td>
<td>false</td>
<td>encoded JSON</td>
<td>A json array of filters with the column you are filtering, along with an array of rules with operator and value.</td>
</tr>
<tr>
<td>showWizard</td>
<td>false</td>
<td>boolean</td>
<td>Whether or not the automated programs wizard should be displayed. Defaults to true if not provided.</td>
</tr>
</tbody></table>

<p><strong>Filters</strong></p>

<p>As explained in the query param table above, <code>filters</code> is a json array of filters with the column you are filtering, along
with an array of rules with operator and value:</p>

<ul>
<li>&quot;column&quot;: the content column you are filtering e.g. &quot;num_bath&quot; or &quot;city&quot;</li>
<li>&quot;rules&quot;: list of operator value pairs eg: rules: <code>[{&quot;operator&quot;:&quot;contains&quot;,&quot;value&quot;:&quot;Seattle&quot;}]</code>

<ul>
<li>&quot;operator&quot; (meaning - Column|Types):

<ul>
<li>&quot;eq&quot; - (equals - String|Number|Date)</li>
<li>&quot;contains&quot; - (contains - String)</li>
<li>&quot;gt&quot; - (greater than - Number)</li>
<li>&quot;lt&quot; - (less than - Number)</li>
<li>&quot;range&quot; - (between 2 - Number)</li>
<li>&quot;after&quot; - (after - Date)</li>
<li>&quot;before&quot; - (before - Date)</li>
<li>&quot;is_true&quot; - true</li>
<li>&quot;is_false&quot; - false</li>
</ul></li>
<li>value - the value e.g

<ul>
<li>use empty string &quot;&quot; for Boolean (true false) types e.g. {&quot;operator&quot;:&quot;is_true&quot;,&quot;value&quot;:&quot;&quot;}</li>
<li>use no &quot;&quot; for number types e.g. {&quot;operator&quot;:&quot;gt&quot;,&quot;value&quot;:100}</li>
<li>range is a special case. eg. between 100-2,000: &quot;value&quot;:{&quot;gt&quot;:100,&quot;lt&quot;:2000}</li>
</ul></li>
</ul></li>
</ul>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
